# 覚え書き
- 1つの区切りは0から7までの8通りである
- 3つの区切りは000から777までの8の3乗(=512)通りである
- 権限は、数が大きいほど強く、小さいほど弱い
- 制限は、数が大きいほど弱く、小さいほど強い
- 立場の強さ: Owner > Group > Others
- 所有者が自分を縛る理由はない。つまり、所有者よりも、グループやその他のユーザーが強い設定はありえない。(`007`などありえない。`777`もほとんどありえない。)

|  | Read | Write | Exec | None|
| :---: | :---: | :---: | :---: | :---: |
|意味| 読む | 書く | 行う | なし |
|英字| r | w | x | - |
|数字| 4 | 2 | 1 | 0 |
|File| 書類を読む | 書類に書く | 書類の内容を実行する| - |
|Directory| 箱を開ける<br>(`ls`ができる) | 箱の中に入り、中身を扱う<br>(作成と消去) | 箱の中に入る<br>(`cd`できる) | - |


|  | rwx |
| :--: | :--: |
| 0 | --- |
| 1 | --x |
| 2 | -r- |
| 3 | -wx |
| 4 | r-- |
| 5 | r-x |
| 6 | rw- |
| 7 | rwx |


# 影響の強さ<br>
- File: `r < w < x`
- - ファイルの`x`は、**システム**に影響を与える
- Directory: `r < x < w`
- - ディレクトリの`w`は、**ファイル**に影響を与える

# よく使うパーミッション
## 新規作成
umask = 002 と仮定すると...

- 新規ファイルの初期値: 664 (rw- rw- r--)
- 新規ディレクトリの初期値: 775 (rwx rwx- r--)

### umask とは
- umask 002: 共同作業向け <br>
- umask 022: 作業は自分だけ

## ファイル

600
- 機密ファイル
- SSH の秘密鍵など

640 / 660
- 機密かつグループ共有
- 運用やアプリの設定ファイルなど

644
- umask 022 のときの、一般的な設定
- 所有者は読み書き、ほかは読み取りのみ

664
- チーム編集用
- umask 022 の644と比べると、グループの書き込みができるようになっている

700
- 個人用実行ファイル
- 自分だけが使うツール

755
- 実行スクリプト / バイナリ
- 誰でも実行できるが、書き込みは所有者のみ
  

## ディレクトリ
700
- 個人用
- ホーム内のプライベート領域

750
- 非公開 + チーム閲覧/実行
- 中身は見せたいが、他者は除く

755
- We配下などの公開ディレクトリ

775
- チームでの共同作業


# パーミッションに関わるコマンド
## 見る
`ls -l`
- 権限や所有者を表示する

`namei -l (パス)`
- そのパスまでの、それぞれのディレクトリのパーミッションを表示する

`stat (パス名)`
- 数字と英字のパーミッションを含む、詳しい情報を表示する
  
## 変える
`chmod`
- <u>ch</u>ange file <u>mod</u>e bits

`umask`
- マスク設定

`chown`
- 所有者やグループを変更する

`chgrp`
- グループのみを変更する